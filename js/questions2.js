function corregir(){inicializar(),corregirRadio("Nº 1: ","resp1",sol_radio1),corregirCheckbox("Nº 2: ","resp2",sol_chk1),corregirText("Nº 3: ","resp3",sol_text1),corregirMulti1("Nº 4: ","resp4",sol_multiple1),corregirRadio("Nº 5: ","resp5",sol_radio2),corregirSelect("Nº 6:","resp6",sol_select1),corregirMulti1("Nº 7: ","resp7",sol_multiple2),corregirCheckbox("Nº 8: ","resp8",sol_chk2),corregirSelect("Nº 9:","resp9",sol_select2),corregirText("Nº 10: ","resp10",sol_text2),presentarNota()}function gestionarXml(a){var b=a.responseXML;for(document.getElementById("preg1").innerHTML=b.getElementsByTagName("title")[0].innerHTML,sol_radio1=b.getElementById("UAP_HE1").getElementsByTagName("answer")[0].innerHTML,select=document.getElementById("resp1"),e=b.getElementById("UAP_HE1").getElementsByTagName("option").length,i=0;i<e;i++)c=document.createElement("input"),c.type=b.getElementsByTagName("type")[0].innerHTML,c.value=i+1,c.name=c.type,select.appendChild(c),select.innerHTML+=b.getElementById("UAP_HE1").getElementsByTagName("option")[i].innerHTML,select.innerHTML+="<br/>";for(document.getElementById("preg2").innerHTML=b.getElementsByTagName("title")[1].innerHTML,select=document.getElementById("resp2"),e=b.getElementById("UAP_HE2").getElementsByTagName("option").length,i=0;i<e;i++)c=document.createElement("input"),c.type=b.getElementsByTagName("type")[1].innerHTML,c.name=c.type,c.value=i+1,select.appendChild(c),select.innerHTML+=b.getElementById("UAP_HE2").getElementsByTagName("option")[i].innerHTML,select.innerHTML+="<br/>";for(d=b.getElementById("UAP_HE2").getElementsByTagName("answer").length,i=0;i<d;i++)sol_chk1[i]=b.getElementById("UAP_HE2").getElementsByTagName("answer")[i].innerHTML;document.getElementById("preg3").innerHTML=b.getElementsByTagName("title")[2].innerHTML,sol_text1=b.getElementById("UAP_HE3").getElementsByTagName("answer")[0].innerHTML,select=document.getElementById("resp3");var c=document.createElement("input");c.type=b.getElementsByTagName("type")[2].innerHTML,c.name="text1",c.autocomplete="off",select.appendChild(c),pregunta1="Pregunta 3:",respuesta1="resp3",document.getElementById("preg4").innerHTML=b.getElementsByTagName("title")[3].innerHTML;var d=b.getElementById("UAP_HE4").getElementsByTagName("answer").length;for(i=0;i<d;i++)sol_multiple1[i]=b.getElementById("UAP_HE4").getElementsByTagName("answer")[i].innerHTML;for(select=document.getElementById("resp4"),select.multiple=!0,e=b.getElementById("UAP_HE4").getElementsByTagName("option").length,i=0;i<e;i++)option=document.createElement("option"),option.text=b.getElementById("UAP_HE4").getElementsByTagName("option")[i].innerHTML,option.value=i+1,select.appendChild(option);for(document.getElementById("preg5").innerHTML=b.getElementsByTagName("title")[4].innerHTML,sol_radio2=b.getElementById("UAP_HE5").getElementsByTagName("answer")[0].innerHTML,select=document.getElementById("resp5"),e=b.getElementById("UAP_HE5").getElementsByTagName("option").length,i=0;i<e;i++)c=document.createElement("input"),c.type=b.getElementsByTagName("type")[4].innerHTML,c.value=i+1,c.name=c.type,select.appendChild(c),select.innerHTML+=b.getElementById("UAP_HE5").getElementsByTagName("option")[i].innerHTML,select.innerHTML+="<br/>";for(document.getElementById("preg6").innerHTML=b.getElementsByTagName("title")[5].innerHTML,sol_select1=b.getElementById("UAP_HE6").getElementsByTagName("answer")[0].innerHTML,select=document.getElementById("resp6"),e=b.getElementById("UAP_HE6").getElementsByTagName("option").length,i=0;i<e;i++)option=document.createElement("option"),option.text=b.getElementById("UAP_HE6").getElementsByTagName("option")[i].innerHTML,option.value=i+1,select.appendChild(option);for(document.getElementById("preg7").innerHTML=b.getElementsByTagName("title")[6].innerHTML,i=0;i<d;i++)sol_multiple2[i]=b.getElementById("UAP_HE7").getElementsByTagName("answer")[i].innerHTML;for(select=document.getElementById("resp7"),select.multiple=!0,e=b.getElementById("UAP_HE7").getElementsByTagName("option").length,i=0;i<e;i++)option=document.createElement("option"),option.text=b.getElementById("UAP_HE7").getElementsByTagName("option")[i].innerHTML,option.value=i+1,select.appendChild(option);for(document.getElementById("preg8").innerHTML=b.getElementsByTagName("title")[7].innerHTML,select=document.getElementById("resp8"),e=b.getElementById("UAP_HE8").getElementsByTagName("option").length,i=0;i<e;i++)c=document.createElement("input"),c.type=b.getElementsByTagName("type")[7].innerHTML,c.name=c.type,c.value=i+1,select.appendChild(c),select.innerHTML+=b.getElementById("UAP_HE8").getElementsByTagName("option")[i].innerHTML,select.innerHTML+="<br/>";for(d=b.getElementById("UAP_HE8").getElementsByTagName("answer").length,i=0;i<d;i++)sol_chk2[i]=b.getElementById("UAP_HE8").getElementsByTagName("answer")[i].innerHTML;document.getElementById("preg9").innerHTML=b.getElementsByTagName("title")[8].innerHTML,sol_select2=b.getElementById("UAP_HE9").getElementsByTagName("answer")[0].innerHTML,select=document.getElementById("resp9");var e=b.getElementById("UAP_HE9").getElementsByTagName("option").length;for(i=0;i<e;i++)option=document.createElement("option"),option.text=b.getElementById("UAP_HE9").getElementsByTagName("option")[i].innerHTML,option.value=i+1,select.appendChild(option);document.getElementById("preg10").innerHTML=b.getElementsByTagName("title")[9].innerHTML,sol_text2=b.getElementById("UAP_HE10").getElementsByTagName("answer")[0].innerHTML,select=document.getElementById("resp10"),c=document.createElement("input"),c.type=b.getElementsByTagName("type")[9].innerHTML,c.name="text2",c.autocomplete="off",select.appendChild(c)}function corregirText(a,b,c){var d=document.getElementById(b).getElementsByTagName("input")[0].value;d.toUpperCase()==c.toUpperCase()?(darRespuestaHtml(a+"Correcto","green"),nota+=1):d.toUpperCase()!=c.toUpperCase()?darRespuestaHtml(a+"Respuesta incorrecta","red"):darRespuestaHtml(a+"Respuesta incorrecta","red")}function corregirSelect(a,b,c){var d=document.getElementById(b);d.selectedIndex==c?(darRespuestaHtml(a+"Correcto","green"),nota+=1):darRespuestaHtml(a+"Respuesta incorrecta","red")}function corregirMulti1(a,b,c){var d=[],e=0,f=document.getElementById(b).getElementsByTagName("option");for(i=0;i<f.length;i++)if(f[i].selected)for(d[i]=!1,j=0;j<c.length;j++)i==c[j]&&(d[i]=!0);for(i=0;i<f.length;i++)f[i].selected&&(d[i]?(nota+=1/c.length,e++):(nota-=1/c.length,e--));e==c.length?darRespuestaHtml(a+"Correcto","green"):darRespuestaHtml(a+"Respuesta incorrecta","red")}function corregirCheckbox(a,b,c){var d=[],e=0,f=document.getElementById(b).elements.checkbox;for(i=0;i<f.length;i++)if(f[i].checked)for(d[i]=!1,j=0;j<c.length;j++)i==c[j]&&(d[i]=!0);for(i=0;i<f.length;i++)f[i].checked&&(d[i]?(nota+=1/c.length,e++):(nota-=1/c.length,e--));e==c.length?darRespuestaHtml(a+"Correcto","green"):darRespuestaHtml(a+"Respuesta incorrecta","red")}function corregirRadio(a,b,c){var d=null,e=document.getElementById(b).elements.radio;for(i=0;i<e.length;i++)e[i].checked&&(d=i);d==c?(darRespuestaHtml(a+"Correcto","green"),nota+=1):darRespuestaHtml(a+"Respuesta incorrecta","red")}function darRespuestaHtml(a,b,c){var d=document.createElement("p"),e=document.createTextNode(a);d.appendChild(e),document.getElementById("resultados").appendChild(d).style.color=b,document.getElementById("resultados").appendChild(d).style.fontWeight=c}function presentarNota(){nota>=5?darRespuestaHtml("Nota: "+nota+" punto/s sobre 10","green","900"):darRespuestaHtml("Nota: "+nota+" punto/s sobre 10","red","900")}function inicializar(){var a=document.getElementById("resultados");a.innerHTML="",nota=0}var formElement=null,sol_text1=null,sol_text2=null,sol_select1=null,sol_select2=null,sol_chk1=[],sol_chk2=[],sol_multiple1=[],sol_multiple2=[],sol_radio1=null,sol_radio2=null,click=!1;window.onload=function(){formElement=document.getElementById("comprobar"),formElement.onclick=function(){corregir(),click=!0};var a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&200==this.status&&gestionarXml(this)},a.open("GET","xml/questions2.xml",!0),a.send()};